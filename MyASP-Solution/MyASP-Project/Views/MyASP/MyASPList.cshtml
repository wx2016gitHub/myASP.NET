@model IEnumerable<MyASP_Project.Models.MyASPData>

@{
    ViewBag.Title = "MyASPList";
}

<h2>My ASP Data List</h2>

<p>
    @Html.ActionLink("Create New", "Create")
</p>
<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.UserId)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Name)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.PhotoID)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Description)
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.UserId)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Name)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.PhotoID)
            <img src="" width="50px" height="27px">
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Description)
        </td>
        <td>
            @Html.ActionLink("Edit", "Edit", new { id=item.Id }) |
            @Html.ActionLink("Details", "Details", new { id=item.Id }) |
            @Html.ActionLink("Remove", "Remove", new { id=item.Id })
        </td>
    </tr>
}

</table>
@section scripts {
    <script>
            jQuery.noConflict();
            jQuery(document).ready(function ($) {
                $(window).load(function () {
                    var name, index, str, pid;
                    for (var i = 1; i < 30; i++) {
                        name = $("tr").eq(i).find("td").eq(2).text();
                        index = name.indexOf("p");
                        if (index != -1) {
                            str = name.slice(index, index + 3);
                            pid = str;
                            $("img").eq(i - 1).attr("id", pid);
                            str = "../../MySource/" + str + ".gif";
                            pid = "#" + pid;
                            //alert(str);
                            $(pid).attr("src", str);
                        }
                    }
                });
            });
    </script>
}
@* @copyright wendy xiao ASP.NET&MVC demo on 6-10-2016 *@
